# singularity defintion file
# miniconda3 
# pip install numpy, pandas
# contain the urbansim repo,  its req as user overlay
# tin 2021.0808


# build container command (req root):
# singularity build --sandbox --fakeroot...
# singularity build --nocolor  --quiet /global/scratch/tin/singularity-repo/miniconda3-urbansim.sif ./singularity-miniconda3.def

# .github/workflows action ...

Bootstrap: docker
From: continuumio/miniconda3


%post
        touch "_ROOT_DIR_OF_CONTAINER_" ## also is "_CURRENT_DIR_CONTAINER_BUILD" 
        date >> _ROOT_DIR_OF_CONTAINER_
        echo "Singularity def 2021.0808.1201" >> _ROOT_DIR_OF_CONTAINER_
        /opt/conda/bin/conda install jupyter -y --quiet
		

